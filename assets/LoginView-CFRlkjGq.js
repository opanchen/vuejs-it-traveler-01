import{B as c,o as m,h as u,b as n,w as _,d as f,v as g,G as b,C as w,k as s,t as V,n as v,F as x,D as L}from"./index-tHUhZOps.js";import{_ as p,u as S}from"./IInput-KTCbTgY7.js";import{_ as h}from"./IButton-Dedl3nyQ.js";const y={__name:"LoginForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:i}){const l=d,o=i,e=c({email:"",password:""});return(r,a)=>(m(),u("form",{onSubmit:a[2]||(a[2]=g(t=>o("submit",b(e)),["prevent"]))},[n(p,{modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=t=>e.email=t),class:"mb-4",label:"Електронна пошта",placeholder:"john.doe@mail.com"},null,8,["modelValue"]),n(p,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=t=>e.password=t),label:"Пароль",type:"password",placeholder:"******"},null,8,["modelValue"]),n(h,{class:"mt-10 w-full",variant:"gradient",type:"submit","is-loading":l.isLoading},{default:_(()=>[f(" Увійти ")]),_:1},8,["is-loading"])],32))}},k={key:0,class:"text-red-500"},C={__name:"LoginView",setup(d){const i=w(),{isLoading:l,error:o,mutation:e}=S({mutationFn:r=>L.login(r),onSuccess:()=>i.replace("/map")});return(r,a)=>(m(),u(x,null,[n(y,{onSubmit:s(e),"is-loading":s(l)},null,8,["onSubmit","is-loading"]),s(o)?(m(),u("p",k,V(s(o).message),1)):v("",!0)],64))}};export{C as default};
